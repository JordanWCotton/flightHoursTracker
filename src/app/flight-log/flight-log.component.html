<div class="container-fluid" id="flight-log-container">  
    <div class="row">
        <div class="col-3">
            <div [routerLink]="['/main-menu']" class="btn-info" 
            id="back-icon">Back</div>
        </div>
        <div class="col-6" id="flight-log-title">
            <p>Flight Log</p>
        </div> 
    </div>
    <div class="page-breaker-line"></div>
    <div class="row">
        <!--Controls date picker modal-->
        <div class="col-4 offset-4 btn-info" id="date-range-button" data-toggle="modal" 
        data-target="#myModal">
            <span *ngIf="!datesSubmitted; else elseSpan">Current</span>
            <ng-template #elseSpan id="date-span">{{fromDate.formatted}} <br>TO<br> {{toDate.formatted}}</ng-template>
        </div>
        <!--date picker modal-->
        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="#exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
            <div class="modal-content" id="modal-content-id">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Select date range</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <label for="from">From</label>
                    <ng2-datepicker [options]="fromOptions" [(ngModel)]="fromDate"></ng2-datepicker>
                    <br>
                    <label for="to">To</label>
                    <ng2-datepicker [options]="toOptions" [(ngModel)]="toDate"></ng2-datepicker>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn" id="close-daterange-modal" 
                    data-dismiss="modal">Close</button>
                    <button type="button" class="btn" id="save-daterange-modal" 
                    (click)="sendDates()" data-dismiss="modal">Save Changes</button>
                 </div>
            </div>
            </div>
        </div> 
    </div>
    <div *ngIf="!showTotals; else hourTotalsDiv">
    <div class="row">
        <div class="col-4" id="date-row">
            DATE
        </div>
        <div class="col-2" id="fs-row">
            FS 
        </div>
        <div class="col-1" id="ds-row">
            DS 
        </div>
        <div class="col-1" id="hours-row"> 
            Hrs
        </div>
        <div class="col-1" id="seat-row">
            St 
        </div>
        <div class="custom-col" id="remarks-row">
            RMKS
        </div>
    </div>
     <div class="page-breaker-line"></div>
     <div id="big-flight-log">
     <div *ngFor="let flights of flightCollection">
        <div class="row">
            <div class="col-4" id="date-display-row">
                {{flights.date.formatted}}
            </div>
            <div class="col-2" id="fs-display-row">
                {{flights.flightSymbol}}
            </div>
            <div class="col-1" id="ds-display-row">
                {{flights.dutySymbol}}
            </div>
            <div class="col-1" id="hours-display-row">
                {{flights.hours}}
            </div>
            <div class="col-1" id="seat-display-row">
                {{flights.seat}}
            </div>
            <div class="log-display" id="remarks-display-row">
                <button id="rmk-button">Rmk</button>
            </div>
        </div>
         <div class="page-breaker-line"></div>
    </div>
    </div>
    <div class="row low-button-row">
        <div class="col-4">
            <div class="bottom-log-btn btn-info" id="view-totals-btn"
            (click)="changeHoursDisplay()">
                <p>Totals</p>
            </div>
        </div>
        <div class="col-4 offset-4">
            <div class="bottom-log-btn btn-info" id="edit-flights-btn">
                <p>Edit</p>
            </div>
        </div>
    </div>
    </div>
    <ng-template #hourTotalsDiv>
    <div *ngIf="!sortByDuty; else dutyHoursDiv">
    <div class="page-breaker-line"></div>       
    <div class="row">
        <div class="col-5 offset-1 add-flight-list">
            <p>Total Hours</p>
        </div>
        <div class="col-3 offset-1 hours-box">
            {{totalHours}}
        </div>
    </div>
    <div class="row flight-list-row">
        <div class="col-5 offset-1 add-flight-list">
            <p>Day</p>
        </div>
        <div class="col-3 offset-1 hours-box">
            {{dayHours}}
        </div>
    </div>  
    <div class="row flight-list-row">
        <div class="col-5 offset-1 add-flight-list">
            <p>NVS</p>
        </div>
        <div class="col-3 offset-1 hours-box">
            {{nvsHours}}
        </div>
    </div>
    <div class="row flight-list-row">
        <div class="col-5 offset-1 add-flight-list">
            <p>NVG</p>
        </div>
        <div class="col-3 offset-1 hours-box">
            {{nvgHours}}
        </div>
    </div> 
    <div class="row flight-list-row">
        <div class="col-5 offset-1 add-flight-list">
            <p>NVD</p>
        </div>
        <div class="col-3 offset-1 hours-box">
            {{nvdHours}}
        </div>
    </div> 
    <div class="row flight-list-row">
        <div class="col-5 offset-1 add-flight-list">
            <p>Hood</p>
        </div>
        <div class="col-3 offset-1 hours-box">
            {{hoodHours}}
        </div>
    </div>
    <div class="row flight-list-row">
        <div class="col-5 offset-1 add-flight-list">
            <p>Night</p>
        </div>
        <div class="col-3 offset-1 hours-box">
            {{nightHours}}
        </div>
    </div>
    <div class="row flight-list-row">
        <div class="col-5 offset-1 add-flight-list">
            <p>Weather</p>
        </div>
        <div class="col-3 offset-1 hours-box">
            {{weatherHours}}
        </div>
    </div> 
    <div class="row flight-list-row">
        <div class="col-5 offset-1 add-flight-list">
            <p>Sim</p>
        </div>
        <div class="col-3 offset-1 hours-box">
            {{simHours}}
        </div>
    </div>
    <div class="page-breaker-line"></div>
    </div>
    <ng-template #dutyHoursDiv>
    <div class="page-breaker-line"></div>
    <div class="row">
        <div class="col-5 offset-1 add-flight-list">
            <p>Total Hours</p>
        </div>
        <div class="col-3 offset-1 hours-box">
            {{totalHours}}
        </div>
    </div>
    <div class="row flight-list-row">
        <div class="col-5 offset-1 add-flight-list">
            <p>PI</p>
        </div>
        <div class="col-3 offset-1 hours-box">
            {{hoursPI}}
        </div>
    </div> 
    <div class="row flight-list-row">
        <div class="col-5 offset-1 add-flight-list">
            <p>PC</p>
        </div>
        <div class="col-3 offset-1 hours-box">
            {{hoursPC}}
        </div>
    </div>
    <div class="row flight-list-row">
        <div class="col-5 offset-1 add-flight-list">
            <p>IP</p>
        </div>
        <div class="col-3 offset-1 hours-box">
            {{hoursIP}}
        </div>
    </div>
    <div class="row flight-list-row">
        <div class="col-5 offset-1 add-flight-list">
            <p>SP</p>
        </div>
        <div class="col-3 offset-1 hours-box">
            {{hoursSP}}
        </div>
    </div>
    <div class="page-breaker-line"></div> 
    </ng-template>
    <div class="row" id="filter-buttons">
        <div class="col-3 offset-2 btn-info" id="filterButton"
        (click)="filterTotals()">Filter</div>
        <div class="col-3 offset-2 btn-info" id="reqdButton">Req'd</div>     
    </div>
    <div class="row low-button-row">
        <div class="col-4 offset-4">
            <div class="bottom-log-btn btn-info" id="show-flight-list"
            (click)="changeHoursDisplay()">
                <p>Flight List</p>
            </div>
        </div>
    </div>
    </ng-template>
</div>